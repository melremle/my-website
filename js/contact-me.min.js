const btnsubmit=document.getElementById("btnsubmit"),stats=document.querySelector(".status"),statusMsg=document.querySelector(".status-msg"),spinner=document.querySelector("#spin"),frm=document.getElementById("frm"),nme=document.querySelector("input[name=name]"),email=document.querySelector("input[name=email]"),subject=document.querySelector("input[name=subject]"),message=document.querySelector("textarea[name=message]");document.addEventListener("readystatechange",()=>{"complete"==document.readyState&&btnsubmit.addEventListener("click",e=>{frm.checkValidity()&&(e.preventDefault(),btnsubmit.disabled=!0,stats.style.opacity="100%",statusMsg.innerText=" Sending message",spinner.classList.replace("fa-check","fa-spinner"),spinner.classList.replace("fa-times","fa-spinner"),spinner.classList.add("fa-spin"),$.ajax({type:"POST",url:"./assets/php/send.php",data:{name:nme.value,email:email.value,message:message.value,subject:subject.value,submit:"submit"},cache:!1,success:function(e){JSON.parse(e)?(spinner.classList.remove("fa-spin"),spinner.classList.replace("fa-spinner","fa-check"),statusMsg.innerText=" Thank you! Message sent. I'll be reaching out to you soon.",setTimeout(()=>{btnsubmit.disabled=!1,stats.style.opacity="0%",frm.reset()},5e3)):(spinner.classList.remove("fa-spin"),spinner.classList.replace("fa-spinner","fa-times"),statusMsg.innerText=" Your message has NOT sent. Please try again.",btnsubmit.disabled=!1)},error:function(){spinner.classList.remove("fa-spin"),spinner.classList.replace("fa-spinner","fa-times"),statusMsg.innerText=" Error! Please check your connection or try again.",btnsubmit.disabled=!1}}))})});